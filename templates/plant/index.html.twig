{% extends 'base.html.twig' %}

{% block title %}Plant index{% endblock %}

{% block body %}
    <div class="container">
        <section id="main-content">
            <section class="wrapper">
                <h1>Plant index</h1>

                <table class="table">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Status</th>
                        <th>Date_updated</th>
                        <th>Date Recolte</th>
                        <th>Qty</th>
                        <th>actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for plant in plants %}
                        {% if plant.status == 'Germination'  %}
                            {% set state = 'info' %}
                        {% elseif plant.status == 'Croissance' %}
                            {% set state = 'success' %}
                        {% elseif plant.status == 'Floraison' %}
                            {% set state = 'warning' %}
                        {% elseif plant.status == 'Recolte' %}
                            {% set state = 'danger' %}
                        {% endif %}
                        <tr class="table-{{ state }}">
                            <td>{{ plant.seed.name }}({{ plant.seed.duration }})</td>
                            <td>{{ plant.status }}</td>
                            <td>{{ plant.dateUpdated ? plant.dateUpdated|date('Y-m-d') : '' }}</td>
                            <td>{{ plant.qty }}</td>
                            <td>{% if plant.status == 'Floraison' %}{{ plant.comment }}{% endif %}</td>
                            <td>
                                <a href="{{ path('app_plant_show', {'id': plant.id}) }}">show</a>
                                <a href="{{ path('app_plant_edit', {'id': plant.id}) }}">edit</a>
                            </td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="5">no records found</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>

                <a href="{{ path('app_plant_new') }}">Create new</a>
            </section>
        </section>
    </div>
{% endblock %}
